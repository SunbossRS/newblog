{% if site.data.site.lang == null or site.data.site.lang == "" %}
{% assign lang = site.data.lang.en-US %}
{% else %}
{% assign lang = site.data.lang[site.data.site.lang] %}
{% endif %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"> 
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<style>
    #git_thread{
        padding: 16px;
        display: none;
    }
</style>

<div class="mdui-divider"></div>
    <button id="load-gitalk" class="mdui-btn mdui-btn-block mdui-center" onclick="comment.load()">加载Gitalk评论</button>
    <div id="comment"></div>
<script>
var comment = {
    load : 
    function gitalk(){
        $('#git_thread').css('display','block');
        }then{
        $('#git_thread').remove(); 
        }then{
        $('#git_thread').add(); 
    }
};
</script>
{% else %}
 <script>
        var gitalk = new Gitalk({
              clientID: '{{ data.site.comment.gitalk_clientID }}',
              clientSecret: '{{ data.site.comment.gitalk_Secret }}',
              repo: '{{ data.site.comment.gitalk_repo }}',
              owner: '{{ data.site.comment.gitalk_owner }}',
              admin: '{{ data.site.comment.gitalk_admin }}',
              id: location.pathname,      // Ensure uniqueness and length less than 50{{ page.title }}
              distractionFreeMode: '{{ datansite.comment.distractionFreeMode }}'  // Facebook-like distraction free mode
            })

            gitalk.render('comment')
    </script>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
